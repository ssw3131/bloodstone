{"version":3,"sources":["bloodstone.js","detector.js","util.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/IA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../bloodstone.js","sourcesContent":["'use strict';\r\n(function(){\r\n\tvar W = window, DOC = document;\r\n\tvar dk;\r\n\tvar trim = /^\\s*|\\s*$/g;\r\n\r\n// 보정패치 :\r\n\tW.console = W[ 'console' ] ? W[ 'console' ] : { log : function(){} },\r\n\t\tW.log = W[ 'log' ] ? W[ 'log' ] : function(){ W.console.log( arguments[ 0 ] ) },\r\n\t\tDate.now = Date.now * 1 || function(){ return +new Date },\r\n\t\tW.requestAnimFrame = (function(){ return W.requestAnimationFrame || W.webkitRequestAnimationFrame || W.mozRequestAnimationFrame || function( $loop ){ W.setTimeout( $loop, 17 ) } })(),\r\n\t\t(function( f ){ W.setTimeout = f( W.setTimeout ), W.setInterval = f( W.setInterval ) })( function( f ){\r\n\t\t\treturn function( $a, $b ){\r\n\t\t\t\tvar a = [].slice.call( arguments, 2 );\r\n\t\t\t\treturn f( function(){ $a.apply( this, a ); }, $b );\r\n\t\t\t};\r\n\t\t} ),\r\n\r\n// dk :\r\n\t\tdk = W.dk = W[ 'dk' ] ? W[ 'dk' ] : {},\r\n\r\n// CORE :\r\n\t\tdk.fn = function( $k, $v ){\r\n\t\t\t$k = $k.replace( trim, '' ), $k = $k.charAt( 0 ).toLowerCase() + $k.substring( 1, $k.length ),\r\n\t\t\t\tdk[ $k ] ? dk.err( 'dk.fn에 이미 ' + $k + '값이 존재합니다' ) : dk[ $k ] = $v;\r\n\t\t},\r\n\t\tdk.cls = function( $k, $v ){\r\n\t\t\t$k = $k.replace( trim, '' ), $k = $k.charAt( 0 ).toUpperCase() + $k.substring( 1, $k.length ),\r\n\t\t\t\tdk[ $k ] ? dk.err( 'dk.cls에 이미 ' + $k + '값이 존재합니다' ) : dk[ $k ] = $v;\r\n\t\t},\r\n\t\tdk.stt = function( $k, $v ){\r\n\t\t\t$k = $k.replace( trim, '' ).toUpperCase(),\r\n\t\t\t\tdk[ $k ] ? dk.err( 'dk.stt에 이미 ' + $k + '값이 존재합니다' ) : dk[ $k ] = $v;\r\n\t\t},\r\n\r\n// INFO :\r\n\t\tdk.stt( 'INFO', { name : 'Dk bloodstone', version : 'v0.0.1', github : 'https://github.com/ssw3131/garnet.git' } ),\r\n\r\n// ERROR :\r\n\t\tdk.fn( 'err', function( $log ){\r\n\t\t\tlog( 'dk error : ' + $log );\r\n\t\t} ),\r\n\r\n// BOM :\r\n\t\tdk.stt( 'W', W ),\r\n\t\tdk.stt( 'DOC', DOC ),\r\n\t\tdk.stt( 'HEAD', DOC.getElementsByTagName( 'head' )[ 0 ] );\r\n})();\r\n","// DETECTOR :\r\ndk.stt( 'DETECTOR', ( function( $w, $doc ) {\r\n\tvar navi = $w.navigator,\r\n\t\tagent = navi.userAgent.toLowerCase(),\r\n\t\tplatform = navi.platform.toLowerCase(),\r\n\t\tapp = navi.appVersion.toLowerCase(),\r\n\t\tdevice = 'pc',\r\n\t\tos, osv, browser, bv, flash,\r\n\t\tprefixCss, prefixStyle, transform3D, keyframe = $w[ 'CSSRule' ],\r\n\t\tdocMode = 0,\r\n\t\td = $doc.createElement( 'div' ),\r\n\t\ts = d.style,\r\n\t\tc = $doc.createElement( 'canvas' ),\r\n\t\ta = $doc.createElement( 'audio' ),\r\n\t\tv = $doc.createElement( 'video' ),\r\n\t\tt0,\r\n\t\tedge, ie, chrome, firefox, safari, opera, naver;\r\n\r\n\tedge = function() {\r\n\t\t\tif ( agent.indexOf( 'edge' ) < 0 ) return;\r\n\t\t\tif ( agent.indexOf( 'Windows Phone' ) > -1 ) os = 'winMobile';\r\n\t\t\treturn browser = 'edge', bv = 'edge'; // todo\r\n\t\t},\r\n\t\tie = function() {\r\n\t\t\tif ( agent.indexOf( 'msie' ) < 0 && agent.indexOf( 'trident' ) < 0 ) return;\r\n\t\t\tif ( agent.indexOf( 'iemobile' ) > -1 ) os = 'winMobile';\r\n\t\t\treturn browser = 'ie', bv = agent.indexOf( 'msie 7' ) > -1 && agent.indexOf( 'trident' ) > -1 ? -1 : agent.indexOf( 'msie' ) < 0 ? 11 : parseFloat( /msie ([\\d]+)/.exec( agent )[ 1 ] );\r\n\t\t},\r\n\t\tchrome = function() {\r\n\t\t\tif ( agent.indexOf( 'opr' ) > -1 || agent.indexOf( 'opera' ) > -1 ) return;\r\n\t\t\tif ( agent.indexOf( t0 = 'chrome' ) < 0 && agent.indexOf( t0 = 'crios' ) < 0 ) return;\r\n\t\t\treturn browser = 'chrome', bv = parseFloat( ( t0 == 'chrome' ? /chrome\\/([\\d]+)/ : /crios\\/([\\d]+)/ ).exec( agent )[ 1 ] );\r\n\t\t},\r\n\t\tfirefox = function() {\r\n\t\t\treturn agent.indexOf( 'firefox' ) < 0 ? 0 : ( browser = 'firefox', bv = parseFloat( /firefox\\/([\\d]+)/.exec( agent )[ 1 ] ) );\r\n\t\t},\r\n\t\tsafari = function() {\r\n\t\t\tif ( agent.indexOf( 'opr' ) > -1 || agent.indexOf( 'opera' ) > -1 ) return;\r\n\t\t\treturn agent.indexOf( 'safari' ) < 0 ? 0 : ( browser = 'safari', bv = parseFloat( /version\\/([\\d]+)/.exec( agent )[ 1 ] ) );\r\n\t\t},\r\n\t\topera = function() {\r\n\t\t\tvar i;\r\n\t\t\treturn ( agent.indexOf( i = 'opera' ) < 0 && agent.indexOf( i = 'opr' ) < 0 ) ? 0 : ( browser = 'opera', bv = ( i == 'opera' ) ? parseFloat( /version\\/([\\d]+)/.exec( agent )[ 1 ] ) : parseFloat( /opr\\/([\\d]+)/.exec( agent )[ 1 ] ) );\r\n\t\t},\r\n\t\tnaver = function() {\r\n\t\t\treturn agent.indexOf( 'naver' ) < 0 ? 0 : browser = 'naver';\r\n\t\t};\r\n\r\n\t// os, browser\r\n\tif ( agent.indexOf( 'android' ) > -1 ) {\r\n\t\tbrowser = os = 'android';\r\n\t\tif ( agent.indexOf( 'mobile' ) == -1 ) browser += 'Tablet', device = 'tablet';\r\n\t\telse device = 'mobile';\r\n\t\tif ( t0 = /android ([\\d.]+)/.exec( agent ) ) t0 = t0[ 1 ].split( '.' ), osv = parseFloat( t0[ 0 ] + '.' + t0[ 1 ] );\r\n\t\telse osv = 0;\r\n\t\tif ( t0 = /safari\\/([\\d.]+)/.exec( agent ) ) bv = parseFloat( t0[ 1 ] );\r\n\t\tnaver() || chrome() || opera() || firefox();\r\n\t} else if ( agent.indexOf( t0 = 'ipad' ) > -1 || agent.indexOf( t0 = 'iphone' ) > -1 ) {\r\n\t\tdevice = t0 == 'ipad' ? 'tablet' : 'mobile', browser = os = t0;\r\n\t\tif ( t0 = /os ([\\d_]+)/.exec( agent ) ) t0 = t0[ 1 ].split( '_' ), osv = parseFloat( t0[ 0 ] + '.' + t0[ 1 ] );\r\n\t\telse osv = 0;\r\n\t\tif ( t0 = /mobile\\/([\\S]+)/.exec( agent ) ) bv = parseFloat( t0[ 1 ] );\r\n\t\tnaver() || chrome() || opera() || firefox();\r\n\t} else {\r\n\t\tif ( platform.indexOf( 'win' ) > -1 ) {\r\n\t\t\tos = 'win', t0 = 'windows nt ';\r\n\t\t\tif ( agent.indexOf( t0 + '5.1' ) > -1 ) osv = 'xp';\r\n\t\t\telse if ( agent.indexOf( t0 + '6.0' ) > -1 ) osv = 'vista';\r\n\t\t\telse if ( agent.indexOf( t0 + '6.1' ) > -1 ) osv = '7';\r\n\t\t\telse if ( agent.indexOf( t0 + '6.2' ) > -1 ) osv = '8';\r\n\t\t\telse if ( agent.indexOf( t0 + '6.3' ) > -1 ) osv = '8.1';\r\n\t\t\telse if ( agent.indexOf( t0 + '10.0' ) > -1 ) osv = '10';\r\n\t\t\tedge() || ie() || chrome() || firefox() || safari() || opera();\r\n\t\t} else if ( platform.indexOf( 'mac' ) > -1 ) {\r\n\t\t\tos = 'mac', t0 = /os x ([\\d._]+)/.exec( agent )[ 1 ].replace( '_', '.' ).split( '.' ), osv = parseFloat( t0[ 0 ] + '.' + t0[ 1 ] ),\r\n\t\t\t\tchrome() || safari() || firefox() || opera();\r\n\t\t} else {\r\n\t\t\tos = app.indexOf( 'x11' ) > -1 ? 'unix' : app.indexOf( 'linux' ) > -1 ? 'linux' : 0, chrome() || firefox();\r\n\t\t}\r\n\t}\r\n\t// flash\r\n\t( function() {\r\n\t\tvar plug = navi.plugins,\r\n\t\t\tt0;\r\n\t\tif ( browser == 'ie' ) try { t0 = new ActiveXObject( 'ShockwaveFlash.ShockwaveFlash' ).GetVariable( '$version' ).substr( 4 ).split( ',' ), flash = parseFloat( t0[ 0 ] + '.' + t0[ 1 ] ); } catch ( e ) {}\r\n\t\telse if ( ( t0 = plug[ 'Shockwave Flash 2.0' ] ) || ( t0 = plug[ 'Shockwave Flash' ] ) ) t0 = t0.description.split( ' ' )[ 2 ].split( '.' ), flash = parseFloat( t0[ 0 ] + '.' + t0[ 1 ] );\r\n\t\telse if ( agent.indexOf( 'webtv' ) > -1 ) flash = agent.indexOf( 'webtv/2.6' ) > -1 ? 4 : agent.indexOf( 'webtv/2.5' ) > -1 ? 3 : 2;\r\n\t} )();\r\n\t// dom\r\n\tswitch ( browser ) {\r\n\t\tcase 'ie':\r\n\t\t\tif ( bv == -1 ) bv = !c[ 'getContext' ] ? 8 : !( 'msTransition' in s ) && !( 'transition' in s ) ? 9 : c.getContext( 'webgl' ) || c.getContext( 'experimental-webgl' ) ? 11 : 10;\r\n\t\t\tprefixCss = '-ms-', prefixStyle = 'ms', transform3D = bv > 9 ? true : false, docMode = $doc[ 'documentMode' ] || 0;\r\n\t\t\tbreak;\r\n\t\tcase 'firefox':\r\n\t\t\tprefixCss = '-moz-', prefixStyle = 'Moz', transform3D = true;\r\n\t\t\tbreak;\r\n\t\tcase 'opera':\r\n\t\t\tprefixCss = '-o-', prefixStyle = 'O', transform3D = true;\r\n\t\t\tbreak;\r\n\t\tdefault:\r\n\t\t\tprefixCss = '-webkit-', prefixStyle = 'webkit', transform3D = os == 'android' ? ( osv < 4 ? false : true ) : true;\r\n\t}\r\n\tif ( keyframe ) {\r\n\t\tif ( keyframe.WEBKIT_KEYFRAME_RULE ) keyframe = '-webkit-keyframes';\r\n\t\telse if ( keyframe.MOZ_KEYFRAME_RULE ) keyframe = '-moz-keyframes';\r\n\t\telse if ( keyframe.KEYFRAME_RULE ) keyframe = 'keyframes';\r\n\t\telse keyframe = null;\r\n\t}\r\n\r\n\treturn {\r\n\t\tdevice: device,\r\n\t\tos: os,\r\n\t\tosVer: osv,\r\n\t\tbrowser: browser,\r\n\t\tbrowserVer: bv,\r\n\t\tie8: browser == 'ie' && bv < 9 ? true : false,\r\n\t\tmobile: device == 'pc' ? false : true,\r\n\t\tflash: flash,\r\n\t\tprefixCss: prefixCss,\r\n\t\tprefixStyle: prefixStyle,\r\n\t\ttransform3D: transform3D,\r\n\t\ttransform: ( prefixStyle + 'Transform' in s || 'transform' in s ) ? true : false,\r\n\t\ttransition: ( prefixStyle + 'Transition' in s || 'transition' in s ) ? true : false,\r\n\t\tkeyframe: keyframe,\r\n\t\tfloat: 'cssFloat' in s ? 'cssFloat' : 'styleFloat',\r\n\t\tcanvas: c ? true : false,\r\n\t\tcanvasText: c && c[ 'getContext' ] && c.getContext( '2d' ).fillText ? true : false,\r\n\t\taudio: a ? true : false,\r\n\t\tvideo: v ? true : false,\r\n\t\tvideoPoster: v && 'poster' in v ? true : false,\r\n\t\tvideoWebm: v && v[ 'canPlayType' ] && v.canPlayType( 'video/webm; codecs=\"vp8,mp4a.40.2\"' ).indexOf( 'no' ) == -1 ? true : false,\r\n\t\tvideoH264: v && v[ 'canPlayType' ] && v.canPlayType( 'video/mp4; codecs=\"avc1.4D401E, mp4a.40.2\"' ).indexOf( 'no' ) == -1 ? true : false,\r\n\t\tvideoTeora: v && v[ 'canPlayType' ] && v.canPlayType( 'video/ogg; codecs=\"theora,vorbis\"' ).indexOf( 'no' ) == -1 ? true : false,\r\n\t\tinsertBefore: 'insertBefore' in d ? true : false,\r\n\t\tinnerText: 'innerText' in d ? true : false,\r\n\t\ttextContent: 'textContent' in d ? true : false,\r\n\t\ttouchBool: 'ontouchstart' in $w ? true : false,\r\n\t\tcurrentTarget: browser == 'firefox' ? 'target' : 'srcElement',\r\n\t\twheelEvent: browser == 'firefox' ? 'DOMMouseScroll' : 'mousewheel',\r\n\t\tisLocalhost: location.host.indexOf( 'localhost' ) < 0 ? false : true\r\n\t}\r\n} )( dk.W, dk.DOC ) );\r\n","// UTIL :\r\ndk.fn( 'random', ( function( $mathRandom ) {\r\n\t\treturn function( $max, $min ) {\r\n\t\t\treturn $max = $max || 1, $min = $min || 0, ( $max - $min ) * $mathRandom() + $min;\r\n\t\t}\r\n\t} )( Math.random ) ),\r\n\r\n\tdk.fn( 'randomInt', ( function( $mathRandom ) {\r\n\t\treturn function( $max, $min ) {\r\n\t\t\treturn $min = $min || 0, parseInt( ( $max - $min + 0.99999 ) * $mathRandom() + $min );\r\n\t\t}\r\n\t} )( Math.random ) ),\r\n\r\n\tdk.fn( 'randomColor', ( function( $randomInt ) {\r\n\t\treturn function() {\r\n\t\t\treturn 'rgb(' + $randomInt( 256 ) + ', ' + $randomInt( 256 ) + ', ' + $randomInt( 256 ) + ')';\r\n\t\t}\r\n\t} )( dk.randomInt ) ),\r\n\r\n\tdk.fn( 'timeCheck', ( function( $dateNow ) {\r\n\t\tvar t0, r;\r\n\t\treturn function() {\r\n\t\t\treturn t0 ? ( r = $dateNow() - t0, t0 = null, r ) : ( t0 = $dateNow(), null );\r\n\t\t}\r\n\t} )( Date.now ) );\r\n"]}